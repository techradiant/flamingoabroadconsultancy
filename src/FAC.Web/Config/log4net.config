<?xml version="1.0"?>
<log4net>

	  <appender name="RollingFile" type="log4net.Appender.RollingFileAppender">
      	<file value="Logs/FAC_Web.log" />
      <param name="LevelMin" value="INFO"/>
	<!--<param name="LevelMin" value="ERROR"/>
	<param name="LevelMax" value="ERROR"/>-->
      	<maxSizeRollBackups value="30" />
	<maximumFileSize value="5MB" />
      	<rollingStyle value="Size" />
      	<staticLogFileName value="false" />
      	<lockingModel type="log4net.Appender.FileAppender+MinimalLock" />
      	<layout type="log4net.Layout.PatternLayout">
        	<conversionPattern value="%date{dd MMM yyyy HH:mm:ss} [%-5p] %C{1}.%M [%property{UserName}] %m%n" />
      	</layout>
    </appender>

  <appender name="ADONetAppender" type="log4net.Appender.ADONetAppender">
    <filter type="log4net.Filter.LevelRangeFilter">
      <param name="LevelMin" value="INFO"/>
      <param name="LevelMax" value="INFO"/>
    </filter>
    <bufferSize value="1"/>
    <lossy value="false"/>
    <connectionType value="System.Data.SqlClient.SqlConnection, System.Data, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
    <connectionString value="data source=DBServer;initial catalog=DBName;integrated security=false;persist security info=True;User ID=sa;Password=Microsoft#1234" />
    <commandText value="INSERT INTO ApplicationLog ([UserName], [Method], [Module], [Message], [LogDate]) VALUES (@UserName, @Method, @Module, @Message, @LogDate)"/>
    <parameter>
      <parameterName value="@UserName" />
      <dbType value="String" />
      <size value="100" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%property{UserName}" />
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@Method" />
      <dbType value="String" />
      <size value="100" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%property{Method}" />
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@Module" />
      <dbType value="String" />
      <size value="100" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%property{Module}" />
      </layout>
    </parameter>

    <parameter>
      <parameterName value="@Message" />
      <dbType value="String" />
      <size value="100" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%property{Message}" />
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@LogDate" />
      <dbType value="DateTime" />
      <layout type="log4net.Layout.PatternLayout" value="%date{yyyy'-'MM'-'dd HH':'mm':'ss'.'fff}" />
    </parameter>
    
    <!--<parameter>
      <parameterName value="LogDate" />
      <dbType value="DateTime"/>
      <layout type="log4net.Layout.RawTimeStampLayout"/>
    </parameter>-->
    
    <layout type="log4net.Layout.PatternLayout">
      <ConversionPattern value="%m" />
    </layout>
  </appender>

  <appender name="EmailLogAppender" type="log4net.Appender.ADONetAppender">
    <filter type="log4net.Filter.LevelRangeFilter">
      <param name="LevelMin" value="Debug"/>
      <param name="LevelMax" value="Error"/>
    </filter>
    <bufferSize value="1"/>
    <lossy value="false"/>
    <connectionType value="System.Data.SqlClient.SqlConnection, System.Data, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
    <connectionString value="data source=DBServer;initial catalog=DBName;integrated security=false;persist security info=True;User ID=sa;Password=Microsoft#1234" />
    <commandText value="INSERT INTO EmailNotificationLog ([EmailTo], [EmailFrom], [TemplateName], [SendingDate], [IsSucess],[Remarks]) VALUES (@EmailTo, @EmailFrom, @TemplateName, @SendingDate,@IsSucess, @Remarks)"/>
    <parameter>
      <parameterName value="@EmailTo" />
      <dbType value="String" />
      <size value="100" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%property{EmailTo}" />
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@EmailFrom" />
      <dbType value="String" />
      <size value="100" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%property{EmailFrom}" />
      </layout>
    </parameter>
    <parameter>
      <parameterName value="@TemplateName" />
      <dbType value="String" />
      <size value="100" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%property{TemplateName}" />
      </layout>
    </parameter>

    <parameter>
      <parameterName value="@SendingDate" />
      <dbType value="DateTime" />
      <layout type="log4net.Layout.PatternLayout" value="%date{yyyy'-'MM'-'dd HH':'mm':'ss'.'fff}" />
    </parameter>

    <parameter>
      <parameterName value="@IsSucess" />
      <dbType value="Boolean" />
      <layout type="log4net.Layout.PatternLayout" >
        <conversionPattern value="%property{IsSucess}" />
      </layout>
    </parameter>

   <parameter>
      <parameterName value="@Remarks" />
     <dbType value="String" />
     <size value="100" />
     <layout type="log4net.Layout.PatternLayout">
       <conversionPattern value="%property{Remarks}" />
     </layout>
   </parameter>

    <layout type="log4net.Layout.PatternLayout">
      <ConversionPattern value="%m" />
    </layout>
  </appender>
  
  
  
  
    <root>
	<level value="ERROR" />
	<level value="INFO" />
      	<appender-ref ref="RollingFile" />
    </root>
  <!--<logger name="Audit">
    <level value="INFO" />
    <appender-ref ref="ADONetAppender" />
  </logger>
  <logger name="EmailLog">
    <level value="Info" />
    <appender-ref ref="EmailLogAppender" />
  </logger>-->
  </log4net>